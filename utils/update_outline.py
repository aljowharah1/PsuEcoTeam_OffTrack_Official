import re

# Read the script file
with open('mobile-dashboard/script.js', 'r', encoding='utf-8') as f:
    content = f.read()

# New outline from combined attempts
new_outline = """outline: [
        [25.48848295, 51.450319983],
        [25.489412167, 51.4495724],
        [25.492589217, 51.44763245],
        [25.4921846, 51.45025725],
        [25.490894067, 51.452397367],
        [25.489875417, 51.4558307],
        [25.489450233, 51.459566333],
        [25.487088317, 51.458165967],
        [25.485488383, 51.45455945],
        [25.485816033, 51.451785717],
        [25.488565983, 51.450059917],
        [25.49188, 51.448033083],
        [25.492517617, 51.449673483],
        [25.491331217, 51.452022667],
        [25.489899233, 51.4563481],
        [25.488566617, 51.460021117],
        [25.48731855, 51.45691505],
        [25.484564017, 51.454090833],
        [25.486116, 51.451579033],
        [25.488646333, 51.450014483],
        [25.491742867, 51.448104283],
        [25.492391933, 51.449859783],
        [25.4913185, 51.4520448],
        [25.489877717, 51.456120933],
        [25.48916765, 51.459818817],
        [25.4872044, 51.457481017],
        [25.485027317, 51.454332983],
        [25.4854884, 51.451960183],
        [25.4885576, 51.450032817],
        [25.492045333, 51.447881267],
        [25.491969567, 51.45064605],
        [25.490243817, 51.453415517],
        [25.490113233, 51.458585533],
        [25.48712355, 51.457524517],
        [25.484144267, 51.45378705],
        [25.48750315, 51.450764083],
        [25.4882502, 51.450451383],
        [25.488395633, 51.450260267],
        [25.489838283, 51.449282683],
        [25.493333433, 51.4484244],
        [25.491555267, 51.45153635],
        [25.48988385, 51.455084283],
        [25.4895248, 51.459508767],
        [25.487017067, 51.457997583],
        [25.485771033, 51.454766317],
        [25.485022717, 51.452195717],
        [25.48825895, 51.450189733],
        [25.49073805, 51.448674817],
        [25.49337135, 51.448358767],
        [25.491743217, 51.450910217],
        [25.489960917, 51.454248117],
        [25.4900116, 51.457820417],
        [25.487750033, 51.459564883],
        [25.487327533, 51.4559904],
        [25.484175083, 51.453822283],
        [25.486371483, 51.451356783],
        [25.4887946, 51.449866717],
        [25.492036167, 51.447863967],
        [25.492104, 51.450235767],
        [25.490601433, 51.45274115],
        [25.489891917, 51.456985783],
        [25.488203333, 51.459894783],
        [25.487331667, 51.456179017],
        [25.4840144, 51.453626183],
        [25.487085233, 51.45091095],
        [25.489336633, 51.449556767],
        [25.493024717, 51.447583483],
        [25.491879567, 51.450673833],
        [25.490336083, 51.4532243],
        [25.489945867, 51.457470733],
        [25.487762117, 51.459588667],
        [25.487103417, 51.4554908],
        [25.484008233, 51.452822467],
        [25.488108, 51.450382767],
        [25.488307467, 51.450376417],
        [25.488266367, 51.450576317],
        [25.488241133, 51.450408317],
        [25.48790395, 51.450603367],
        [25.488313433, 51.45054515],
        [25.4886328, 51.450676183],
        [25.4891328, 51.450337083],
        [25.48848295, 51.450319983]
    ]"""

# Find and replace the outline section
pattern = r'outline: \[[^\]]+\]'
content_new = re.sub(pattern, new_outline, content, flags=re.DOTALL)

# Write back
with open('mobile-dashboard/script.js', 'w', encoding='utf-8') as f:
    f.write(content_new)

print("[OK] Updated track outline with combined Attempt1 + Attempt2 GPS data")
print("[OK] New outline has 82 points for smooth track visualization")
